import{_ as i,c as s,o as e,af as l}from"./chunks/framework.Cm3tdt7z.js";const c=JSON.parse('{"title":"故障排除指南","description":"","frontmatter":{},"headers":[],"relativePath":"更多/troubleshooting.md","filePath":"更多/troubleshooting.md"}'),h={name:"更多/troubleshooting.md"};function t(n,a,r,d,k,o){return e(),s("div",null,[...a[0]||(a[0]=[l(`<h1 id="故障排除指南" tabindex="-1">故障排除指南 <a class="header-anchor" href="#故障排除指南" aria-label="Permalink to “故障排除指南”">​</a></h1><p>本文档列出了使用 Webis 时的常见错误和解决方案。</p><h2 id="安装依赖时出现错误" tabindex="-1">安装依赖时出现错误 <a class="header-anchor" href="#安装依赖时出现错误" aria-label="Permalink to “安装依赖时出现错误”">​</a></h2><h3 id="原因" tabindex="-1">原因： <a class="header-anchor" href="#原因" aria-label="Permalink to “原因：”">​</a></h3><ul><li>使用了不兼容的 Python 版本，或包管理器配置问题。</li></ul><h3 id="解决方案" tabindex="-1">解决方案： <a class="header-anchor" href="#解决方案" aria-label="Permalink to “解决方案：”">​</a></h3><ul><li>确保您使用的是兼容的 Python 版本（3.8+）。</li><li>您可能需要使用 <code>pip3</code> 而不是 <code>pip</code>。</li></ul><hr><h2 id="easyocr-首次启动运行非常慢" tabindex="-1">EasyOCR 首次启动运行非常慢 <a class="header-anchor" href="#easyocr-首次启动运行非常慢" aria-label="Permalink to “EasyOCR 首次启动运行非常慢”">​</a></h2><h3 id="原因-1" tabindex="-1">原因： <a class="header-anchor" href="#原因-1" aria-label="Permalink to “原因：”">​</a></h3><ul><li>EasyOCR 在首次使用时需要下载模型文件。</li></ul><h3 id="解决方案-1" tabindex="-1">解决方案： <a class="header-anchor" href="#解决方案-1" aria-label="Permalink to “解决方案：”">​</a></h3><ul><li>请耐心等待模型文件下载完成。下载完成后，后续使用会更快。</li></ul><hr><h2 id="图像识别准确率低" tabindex="-1">图像识别准确率低 <a class="header-anchor" href="#图像识别准确率低" aria-label="Permalink to “图像识别准确率低”">​</a></h2><h3 id="原因-2" tabindex="-1">原因： <a class="header-anchor" href="#原因-2" aria-label="Permalink to “原因：”">​</a></h3><ul><li>图像分辨率过低、文本不清晰，或置信度阈值设置不当。</li></ul><h3 id="解决方案-2" tabindex="-1">解决方案： <a class="header-anchor" href="#解决方案-2" aria-label="Permalink to “解决方案：”">​</a></h3><ul><li>提高图像分辨率</li><li>确保文本清晰</li><li>调整置信度阈值（在代码中设置 <code>confidence &gt; 0.5</code>）</li></ul><hr><h2 id="无法从-pdf-提取文本" tabindex="-1">无法从 PDF 提取文本 <a class="header-anchor" href="#无法从-pdf-提取文本" aria-label="Permalink to “无法从 PDF 提取文本”">​</a></h2><h3 id="原因-3" tabindex="-1">原因： <a class="header-anchor" href="#原因-3" aria-label="Permalink to “原因：”">​</a></h3><ul><li>PDF 可能是扫描版本，不包含可提取的文本层。</li></ul><h3 id="解决方案-3" tabindex="-1">解决方案： <a class="header-anchor" href="#解决方案-3" aria-label="Permalink to “解决方案：”">​</a></h3><ul><li>建议先将其转换为图像，然后使用 OCR 处理。</li></ul><hr><h2 id="无法访问-api-401-未授权" tabindex="-1">无法访问 API：401 未授权 <a class="header-anchor" href="#无法访问-api-401-未授权" aria-label="Permalink to “无法访问 API：401 未授权”">​</a></h2><h3 id="原因-4" tabindex="-1">原因： <a class="header-anchor" href="#原因-4" aria-label="Permalink to “原因：”">​</a></h3><ul><li>未提供有效的 API 密钥，或服务器已启用身份验证。</li></ul><h3 id="解决方案-4" tabindex="-1">解决方案： <a class="header-anchor" href="#解决方案-4" aria-label="Permalink to “解决方案：”">​</a></h3><ul><li>检查项目根目录中的 <code>api_keys.json</code> 文件并复制有效密钥。</li><li>调用 API 时添加 <code>api_key</code> 参数。示例：</li></ul><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -X</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> POST</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://localhost:8000/generate</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Content-Type: application/json&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{&quot;prompt&quot;: &quot;hello&quot;, &quot;api_key&quot;: &quot;your-key&quot;}&#39;</span></span></code></pre></div><hr><h2 id="模型加载失败-gpu-内存不足" tabindex="-1">模型加载失败：GPU 内存不足 <a class="header-anchor" href="#模型加载失败-gpu-内存不足" aria-label="Permalink to “模型加载失败：GPU 内存不足”">​</a></h2><h3 id="错误信息" tabindex="-1">错误信息： <a class="header-anchor" href="#错误信息" aria-label="Permalink to “错误信息：”">​</a></h3><div class="language-text"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>ValueError: Free memory on device (...) is less than desired GPU memory utilization (...)</span></span></code></pre></div><h3 id="原因-5" tabindex="-1">原因： <a class="header-anchor" href="#原因-5" aria-label="Permalink to “原因：”">​</a></h3><ul><li>剩余的 GPU 内存少于模型所需的内存限制。</li></ul><h3 id="解决方案-5" tabindex="-1">解决方案： <a class="header-anchor" href="#解决方案-5" aria-label="Permalink to “解决方案：”">​</a></h3><ul><li>降低 <code>GPU_MEMORY_UTILIZATION</code> 设置：</li></ul><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> GPU_MEMORY_UTILIZATION</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.6</span></span></code></pre></div><hr><h2 id="错误-找不到-libcudart-so" tabindex="-1">错误：找不到 libcudart.so <a class="header-anchor" href="#错误-找不到-libcudart-so" aria-label="Permalink to “错误：找不到 libcudart.so”">​</a></h2><h3 id="错误信息-1" tabindex="-1">错误信息： <a class="header-anchor" href="#错误信息-1" aria-label="Permalink to “错误信息：”">​</a></h3><div class="language-text"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>ImportError: libcudart.so.11.0: cannot open shared object file: No such file or directory</span></span></code></pre></div><h3 id="原因-6" tabindex="-1">原因： <a class="header-anchor" href="#原因-6" aria-label="Permalink to “原因：”">​</a></h3><ul><li>未安装 CUDA 动态库，或库版本不兼容。</li></ul><h3 id="解决方案-6" tabindex="-1">解决方案： <a class="header-anchor" href="#解决方案-6" aria-label="Permalink to “解决方案：”">​</a></h3><ul><li>通过 conda 安装对应 CUDA 版本的 PyTorch：</li></ul><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pytorch-cuda=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">12.1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pytorch</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nvidia</span></span></code></pre></div><hr><h2 id="构建失败-找不到-c-编译器" tabindex="-1">构建失败：找不到 C 编译器 <a class="header-anchor" href="#构建失败-找不到-c-编译器" aria-label="Permalink to “构建失败：找不到 C 编译器”">​</a></h2><h3 id="错误信息-2" tabindex="-1">错误信息： <a class="header-anchor" href="#错误信息-2" aria-label="Permalink to “错误信息：”">​</a></h3><div class="language-text"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>RuntimeError: Failed to find C compiler.</span></span></code></pre></div><h3 id="原因-7" tabindex="-1">原因： <a class="header-anchor" href="#原因-7" aria-label="Permalink to “原因：”">​</a></h3><ul><li>缺少编译工具（如 <code>gcc</code>），导致 Triton 编译模型内核时失败。</li></ul><h3 id="解决方案-7" tabindex="-1">解决方案： <a class="header-anchor" href="#解决方案-7" aria-label="Permalink to “解决方案：”">​</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build-essential</span></span></code></pre></div><hr><h2 id="无模型输出-api-返回空字符串" tabindex="-1">无模型输出 / API 返回空字符串 <a class="header-anchor" href="#无模型输出-api-返回空字符串" aria-label="Permalink to “无模型输出 / API 返回空字符串”">​</a></h2><h3 id="原因-8" tabindex="-1">原因： <a class="header-anchor" href="#原因-8" aria-label="Permalink to “原因：”">​</a></h3><ul><li><code>prompt</code> 内容不完整或缺乏上下文。</li><li><code>max_tokens</code>（要生成的最大 token 数）设置过低，导致生成的内容被截断。</li></ul><h3 id="解决方案-8" tabindex="-1">解决方案： <a class="header-anchor" href="#解决方案-8" aria-label="Permalink to “解决方案：”">​</a></h3><ul><li>适当增加 <code>max_tokens</code> 参数（例如，256 → 512）。</li><li>使用清晰的提示。示例：</li></ul><div class="language-text"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>请从以下 HTML 中提取联系人姓名和电话号码：&lt;html&gt;...&lt;/html&gt;</span></span></code></pre></div><hr><h2 id="包管理器锁定错误-dpkg-apt" tabindex="-1">包管理器锁定错误（dpkg/apt） <a class="header-anchor" href="#包管理器锁定错误-dpkg-apt" aria-label="Permalink to “包管理器锁定错误（dpkg/apt）”">​</a></h2><h3 id="错误信息-3" tabindex="-1">错误信息： <a class="header-anchor" href="#错误信息-3" aria-label="Permalink to “错误信息：”">​</a></h3><div class="language-text"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>Waiting for cache lock: Could not get lock /var/lib/dpkg/lock-frontend. It is held by process</span></span></code></pre></div><h3 id="原因-9" tabindex="-1">原因： <a class="header-anchor" href="#原因-9" aria-label="Permalink to “原因：”">​</a></h3><ul><li>另一个包管理进程（apt、apt-get、dpkg 或系统更新）正在运行。</li><li>之前的安装过程被中断，留下残留的锁定文件。</li></ul><h3 id="解决方案-9" tabindex="-1">解决方案： <a class="header-anchor" href="#解决方案-9" aria-label="Permalink to “解决方案：”">​</a></h3><ol><li>如果合法的更新进程正在运行，请等待其完成。</li><li>如果没有其他更新进程在运行，检查哪个进程持有锁定：</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ps</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> aux</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span></span></code></pre></div><ol start="3"><li>如有必要，删除锁定文件（谨慎使用）：</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/lib/apt/lists/lock</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/lib/dpkg/lock</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/lib/dpkg/lock-frontend</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dpkg</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --configure</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -a</span></span></code></pre></div>`,76)])])}const g=i(h,[["render",t]]);export{c as __pageData,g as default};
